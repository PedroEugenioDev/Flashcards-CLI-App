"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getBrightness = exports.rgbToY = void 0;
const to_1 = require("./to");
const types_1 = require("./types");
const sRGBtoLin = (colorChannel) => {
    if (colorChannel <= 0.04045) {
        return colorChannel / 12.92;
    }
    return Math.pow((colorChannel + 0.055) / 1.055, 2.4);
};
const rgbToY = (input) => {
    const { r, g, b } = input;
    return (0.2126 * sRGBtoLin(r / 255) +
        0.7152 * sRGBtoLin(g / 255) +
        0.0722 * sRGBtoLin(b / 255));
};
exports.rgbToY = rgbToY;
const YtoLstar = (Y) => {
    if (Y <= 216 / 24389) {
        return Y * (24389 / 27);
    }
    return Math.pow(Y, 1 / 3) * 116 - 16;
};
const getBrightness = (input) => {
    const rgb = (0, to_1.toType)(input, types_1.ColorType.RGB);
    const brightness = YtoLstar((0, exports.rgbToY)(rgb));
    return Math.round(brightness * 100) / 100;
};
exports.getBrightness = getBrightness;
//# sourceMappingURL=brightness.js.map